# EC2

## 料金モデル
* オンデマンドインスタンスのキャパシティー予約
* AWS Saving Plans
    * 1年もしくは3年の期間内で一定のコンピューティング使用量を利用することを自薦に契約する
    * EC2, Fargate Lambdaを低価格で利用できる
* EC2 Instance Savings Plans
    * リザーブドインスタンスと同じように特定利用期間を予約して割引で購入する方式です
* リザーブドインスタンス
    * 「１年間」または「３年間」という期間を予約してEC2インスタンスを購入することで、割引価格で利用することができるインスタンスです。

## ヘルスチェック
* EC2タイプ
    * EC2の稼働状態のみで正常かを判断する
* ELBタイプ
    * インスタンスのステータスチェックとELBのヘルスチェックからインスタンスの状態を判断する

## Auto Scaling
* CPU利用率に応じたスケーリングが可能である
    * メモリ利用率をトリガーとした設定がデフォルトではできない。
* 時間帯が分かっている場合は事前にスケールアップしておく
* クールダウン期間
    * Auto Scaling でスケジュールされた処理が実行される前に、次のScaling操作が行われないようにするための時間
    * デフォルトで300秒
* 例外
    * ターゲット追跡、ステップスケーリングポリシー


## 権限管理
* タグを使用する
* IAMポリシーを利用する

## ユーザーデータ
* EC2インスタンス起動時に実行するスクリプトを指定できる。
    * Bashスクリプトなど
* ブートストラップ
    * インスタンスにユーザーデータを渡すことで、起動時に実行される処理の事


## 廃止機能
* スケジュールリザーブドインスタンス
    * オンデマンドインスタンスのキャパシティー予約で代理できる。

